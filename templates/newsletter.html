<form class="form" hx-post="/" hx-target=".form" hx-headers='{"src": "newsletters"}' hx-swap="outerHTML">
  {% csrf_token %}
  <input
    type="email"
    name="email"
    required="true"
    id="email"
    placeholder="Enter Your Email"
    hx-on:input="
      if (this.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)) {
        this.setCustomValidity('');
      } else {
        this.setCustomValidity('Please enter a valid email');
      }
      htmx.find('.form').reportValidity();
    "
  />
  <button type="submit">subscribe</button>
</form>
